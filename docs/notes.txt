1. deploy tx: package
6d50aa71e71eed36722f7da9af06e50d1b018f33e1e2045765882d5694a1d425
package_tdx_c_1qpdhcyr7gym203gjdh00ghf5yesvw7kc5xqxjyujqsvq6q3d7n

2.usdt:
hello: component_tdx_c_1q0sa4jt6et4hzmwxk8fhlf4m43l4plwjpkwhwxmjl86sjey4r4
usdt: resource_tdx_c_1q8sa4jt6et4hzmwxk8fhlf4m43l4plwjpkwhwxmjl86scckmxw

3. usdc:
CALL_FUNCTION
    Address("package_tdx_c_1qrhx62hq0qlp4g4gpvf2xaa23g4rwf3yu72hulx46pnqha6pjt")
    "Hello"
    "instantiate_hello"
    "USDC"
    "USDC"
    Decimal("1000000");
hello: component_tdx_c_1qv45znzfmww6xwt8fw0xrcy6wmrazq95n7n8hr3akx4s59mnql
usdc: resource_tdx_c_1qy45znzfmww6xwt8fw0xrcy6wmrazq95n7n8hr3akx4s7yfa9y


# oracle
CALL_FUNCTION
    Address("package_tdx_c_1qpdhcyr7gym203gjdh00ghf5yesvw7kc5xqxjyujqsvq6q3d7n")
    "PriceOracle"
    "new"
    Address("resource_tdx_c_1q8sa4jt6et4hzmwxk8fhlf4m43l4plwjpkwhwxmjl86scckmxw")
    Decimal("8.88333")
    Address("resource_tdx_c_1qy45znzfmww6xwt8fw0xrcy6wmrazq95n7n8hr3akx4s7yfa9y")
    Decimal("8.88333");

component_tdx_c_1qd0r9f5yuzyuzmgzpzjhhhaeprheeeumrhrftmu4ex8qk0kev6

# def_interest_model
CALL_FUNCTION
    Address("package_tdx_c_1qpdhcyr7gym203gjdh00ghf5yesvw7kc5xqxjyujqsvq6q3d7n")
    "DefInterestModel"
    "new";
component_tdx_c_1q0yuz4waxfvv0g6h70lg3kw3lvr2yaaxfrgdcsk96jss97zc5y

# stable_interest_model
CALL_FUNCTION
    Address("package_tdx_c_1qpdhcyr7gym203gjdh00ghf5yesvw7kc5xqxjyujqsvq6q3d7n")
    "StableInterestModel"
    "new";
component_tdx_c_1qwz0afkr3gyp3p07lad9pjutaf598cp277djmql6e4rs8gmx2f

# instantiate
CALL_FUNCTION
    Address("package_tdx_c_1qpdhcyr7gym203gjdh00ghf5yesvw7kc5xqxjyujqsvq6q3d7n")
    "LendingFactory"
    "instantiate_lending_factory"
    Address("component_tdx_c_1qd0r9f5yuzyuzmgzpzjhhhaeprheeeumrhrftmu4ex8qk0kev6");
CALL_METHOD
    Address("account_tdx_c_1pxte28zh2qsgpjzl8xv0ehm209wms6z29jgudd2mphuqrx3xkc")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP");

component_tdx_c_1q0gxlg7pvnfrw6qlv86sfrxksykzxasyx6lhvq6rrcfs4uh2gt   # pool
resource_tdx_c_1q8gxlg7pvnfrw6qlv86sfrxksykzxasyx6lhvq6rrcfsla9yds    # noname amdin
resource_tdx_c_1qy0wyha6ngftk3angr2ugj34ys3zhauwua8dsqslg7zsjmjnns    # noname minter
resource_tdx_c_1qtgxlg7pvnfrw6qlv86sfrxksykzxasyx6lhvq6rrcfsqnj0l0    #cdp NFT(Token define)


# CALL_METHOD ComponentAddress("${component}") "new_pool" ResourceAddress("${xrd}") Decimal("0.6") Decimal("0.7") Decimal("0.07") Decimal("0.25") ComponentAddress("${def_interest_model}");


## new_pool
CALL_METHOD
    Address("account_tdx_c_1pxte28zh2qsgpjzl8xv0ehm209wms6z29jgudd2mphuqrx3xkc")
    "lock_fee"
    Decimal("10");
CALL_METHOD
    Address("account_tdx_c_1pxte28zh2qsgpjzl8xv0ehm209wms6z29jgudd2mphuqrx3xkc")
    "create_proof"
    Address("resource_tdx_c_1q8gxlg7pvnfrw6qlv86sfrxksykzxasyx6lhvq6rrcfsla9yds");
CREATE_PROOF_FROM_AUTH_ZONE
    Address("resource_tdx_c_1q8gxlg7pvnfrw6qlv86sfrxksykzxasyx6lhvq6rrcfsla9yds")
    Proof("proof1");
CALL_METHOD
    Address("component_tdx_c_1q0gxlg7pvnfrw6qlv86sfrxksykzxasyx6lhvq6rrcfs4uh2gt")
    "new_pool"
    Address("resource_tdx_c_1qyqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq40v2wv")
    Decimal("0.6")
    Decimal("0.7")
    Decimal("0.07")
    Decimal("0.25")
    Address("component_tdx_c_1q0yuz4waxfvv0g6h70lg3kw3lvr2yaaxfrgdcsk96jss97zc5y");

component_tdx_c_1q0gxlg7pvnfrw6qlv86sfrxksykzxasyx6lhvq6rrcfs4uh2gt   #AssetState
resource_tdx_c_1q8nq8vrpx70tkah4yvl8k3tsh27hhmu6c742dlg92s9swnmma8    #dx_token define




################# 2023.5.16 ##############
package: 
tx_id: f489acd9d68097975e3f4ad63ca14a1bb666cdb21783925899353cd82eb565d1
pkg: package_tdx_c_1qrzwn3fef9mxllqnsdt3u40tveak2y3y0kehf23lqjms9x3plk


# oracle
CALL_FUNCTION
    Address("package_tdx_c_1qrzwn3fef9mxllqnsdt3u40tveak2y3y0kehf23lqjms9x3plk")
    "PriceOracle"
    "new"
    Address("resource_tdx_c_1q8sa4jt6et4hzmwxk8fhlf4m43l4plwjpkwhwxmjl86scckmxw")
    Decimal("8.88333")
    Address("resource_tdx_c_1qy45znzfmww6xwt8fw0xrcy6wmrazq95n7n8hr3akx4s7yfa9y")
    Decimal("8.88333");

component_tdx_c_1qvere3ukmnxhqs963q85g6008hfetflznc4tdwxpal3s7yfeuv

# DefInterestModel
CALL_FUNCTION
    Address("package_tdx_c_1qrzwn3fef9mxllqnsdt3u40tveak2y3y0kehf23lqjms9x3plk")
    "DefInterestModel"
    "new";
component_tdx_c_1qv4349scwnmd2v9sp8ugx5hz9jahxk3f8rt20698xj5ssp6nmm

# StableInterestModel
CALL_FUNCTION
    Address("package_tdx_c_1qrzwn3fef9mxllqnsdt3u40tveak2y3y0kehf23lqjms9x3plk")
    "StableInterestModel"
    "new";
component_tdx_c_1q0yqpjjajea5cagu0t8dk8qtyss2hk7r0dtd8vauzajqv033vv

# claim usdt
CALL_METHOD
    Address("component_tdx_c_1q0sa4jt6et4hzmwxk8fhlf4m43l4plwjpkwhwxmjl86sjey4r4")
    "free_token"
    Decimal("1000");
CALL_METHOD
    Address("account_tdx_c_1pxs94hu9dec94xu2t335qy4el295g6dhvswlz2pn6ppsw3qnh3")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP");
# claim usdc
CALL_METHOD
    Address("component_tdx_c_1qv45znzfmww6xwt8fw0xrcy6wmrazq95n7n8hr3akx4s59mnql")
    "free_token"
    Decimal("1000");
CALL_METHOD
    Address("account_tdx_c_1pxs94hu9dec94xu2t335qy4el295g6dhvswlz2pn6ppsw3qnh3")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP");

# instantiate_lending_factory
CALL_FUNCTION
    Address("package_tdx_c_1qrzwn3fef9mxllqnsdt3u40tveak2y3y0kehf23lqjms9x3plk")
    "LendingFactory"
    "instantiate_lending_factory"
    Address("component_tdx_c_1qvere3ukmnxhqs963q85g6008hfetflznc4tdwxpal3s7yfeuv");
CALL_METHOD
    Address("account_tdx_c_1pxte28zh2qsgpjzl8xv0ehm209wms6z29jgudd2mphuqrx3xkc")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP");

component_tdx_c_1qvped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqp3knwf   # pool
resource_tdx_c_1qyped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqtsyatj    # amin_bage
resource_tdx_c_1q8hdnsx0xkyp3h80yh9haqmw3aaxfuku8w6mealrftws24duc2    # minter
resource_tdx_c_1qgped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sq57nked    # cdp NFT(Token define)

# new_pool: xrd
CALL_METHOD
    Address("account_tdx_c_1pxte28zh2qsgpjzl8xv0ehm209wms6z29jgudd2mphuqrx3xkc")
    "create_proof"
    Address("resource_tdx_c_1qyped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqtsyatj");
CREATE_PROOF_FROM_AUTH_ZONE
    Address("resource_tdx_c_1qyped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqtsyatj")
    Proof("proof1");
CALL_METHOD
    Address("component_tdx_c_1qvped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqp3knwf")
    "new_pool"
    Address("resource_tdx_c_1qyqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq40v2wv")
    Decimal("0.6")
    Decimal("0.7")
    Decimal("0.07")
    Decimal("0.25")
    Address("component_tdx_c_1q0yqpjjajea5cagu0t8dk8qtyss2hk7r0dtd8vauzajqv033vv");   #用错了利率模型，应该是default, 这个是stable

resource_tdx_c_1qxf6njlg7xmwr73tksy99vx5yzfcdxwkn9m9ulx4ql9qsdhyc6  #dxXRD

# new_pool: usdt
CALL_METHOD
    Address("account_tdx_c_1pxte28zh2qsgpjzl8xv0ehm209wms6z29jgudd2mphuqrx3xkc")
    "create_proof"
    Address("resource_tdx_c_1qyped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqtsyatj");
CREATE_PROOF_FROM_AUTH_ZONE
    Address("resource_tdx_c_1qyped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqtsyatj")
    Proof("proof1");
CALL_METHOD
    Address("component_tdx_c_1qvped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqp3knwf")
    "new_pool"
    Address("resource_tdx_c_1q8sa4jt6et4hzmwxk8fhlf4m43l4plwjpkwhwxmjl86scckmxw")
    Decimal("0")
    Decimal("0")
    Decimal("0")
    Decimal("0.1")
    Address("component_tdx_c_1q0yqpjjajea5cagu0t8dk8qtyss2hk7r0dtd8vauzajqv033vv"); 

resource_tdx_c_1qxpd9jx7vsxl6nv8eeyez62pr6ew6njeqnkszvdgpj0s6smxsf  #dxUSDT

# new_pool: usdc
CALL_METHOD
    Address("account_tdx_c_1pxte28zh2qsgpjzl8xv0ehm209wms6z29jgudd2mphuqrx3xkc")
    "create_proof"
    Address("resource_tdx_c_1qyped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqtsyatj");
CREATE_PROOF_FROM_AUTH_ZONE
    Address("resource_tdx_c_1qyped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqtsyatj")
    Proof("proof1");
CALL_METHOD
    Address("component_tdx_c_1qvped56cauc3sruqmxxudjaud6qmfwvss3ajsuy0h9sqp3knwf")
    "new_pool"
    Address("resource_tdx_c_1qy45znzfmww6xwt8fw0xrcy6wmrazq95n7n8hr3akx4s7yfa9y")
    Decimal("0.85")
    Decimal("0.87")
    Decimal("0.02")
    Decimal("0.1")
    Address("component_tdx_c_1q0yqpjjajea5cagu0t8dk8qtyss2hk7r0dtd8vauzajqv033vv"); 

resource_tdx_c_1qxqmf898wlpv70c5ftl6g975x3zgqglzpqa7698au98sfe7h8t #dxUSDC


XRD-->dxXRD
resource_tdx_c_1qyqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq40v2wv   ---> resource_tdx_c_1qxf6njlg7xmwr73tksy99vx5yzfcdxwkn9m9ulx4ql9qsdhyc6

USDT --> dxUSDT
resource_tdx_c_1q8sa4jt6et4hzmwxk8fhlf4m43l4plwjpkwhwxmjl86scckmxw   --->  resource_tdx_c_1qxpd9jx7vsxl6nv8eeyez62pr6ew6njeqnkszvdgpj0s6smxsf

USDC ---> dxUSDC
resource_tdx_c_1qy45znzfmww6xwt8fw0xrcy6wmrazq95n7n8hr3akx4s7yfa9y   --->   resource_tdx_c_1qxqmf898wlpv70c5ftl6g975x3zgqglzpqa7698au98sfe7h8t


===========
rcnet-v3:

package:
package_tdx_e_1pkadflvjl4v6uc4lhk47ccdnps6wm6evyagmyugt66ktwyh96aelvm


token:
txid_tdx_e_1wzp58ec4s264yzeg5m5s04eccq4huc59xg5efd9746uhf3y3kasq6hv0xg
package_tdx_e_1pkp6nxtwms0wynrz4fz0lratkdngxj9rpgxpa9zxk7l9cpyfl9aqm9

usdt:
resource_tdx_e_1t49qww0cx6z3j60x9230ft744n3yn442v2fj05t8v9khvc3swkyklt
CALL_FUNCTION
    Address("package_tdx_e_1pkp6nxtwms0wynrz4fz0lratkdngxj9rpgxpa9zxk7l9cpyfl9aqm9")
    "Hello"
    "instantiate_hello"
    "USDT"
    "USDT";
component_tdx_e_1cprw4cpy2j5up2wungfepcel03yjkyyp9te2e3eaaf3307dvrsudd8
resource_tdx_e_1t49qww0cx6z3j60x9230ft744n3yn442v2fj05t8v9khvc3swkyklt
CALL_METHOD
    Address("component_tdx_e_1cprw4cpy2j5up2wungfepcel03yjkyyp9te2e3eaaf3307dvrsudd8")
    "free_token"
    255u8
;
CALL_METHOD
    Address("account_tdx_e_12y9gs6fmwnudjg9c3t5ggf7tva8j0plgjv8pxsdnw6a580s8ffxlze")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;


usdc:
CALL_FUNCTION
    Address("package_tdx_e_1pkp6nxtwms0wynrz4fz0lratkdngxj9rpgxpa9zxk7l9cpyfl9aqm9")
    "Hello"
    "instantiate_hello"
    "USDC"
    "USDC";
component_tdx_e_1czg4tc7ycxpqhtn7qj2hf85mgme9syahmapxqur98m6ag7pu7rv74v
resource_tdx_e_1t58yqtudq84wffzrqxvfkhx0w6tgd3ufeymkjcckxx0jytqa5hnr8a
CALL_METHOD
    Address("component_tdx_e_1czg4tc7ycxpqhtn7qj2hf85mgme9syahmapxqur98m6ag7pu7rv74v")
    "free_token"
    255u8
;
CALL_METHOD
    Address("account_tdx_e_12y9gs6fmwnudjg9c3t5ggf7tva8j0plgjv8pxsdnw6a580s8ffxlze")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP")
;

----
# package_tdx_e_1pkadflvjl4v6uc4lhk47ccdnps6wm6evyagmyugt66ktwyh96aelvm
oracle

# oracle
component_tdx_e_1cz9gsuz9ru6082u6wxleqh6ueatcang0msm5m2qnp4tqm7msyphg3d

CALL_FUNCTION
    Address("package_tdx_e_1pkadflvjl4v6uc4lhk47ccdnps6wm6evyagmyugt66ktwyh96aelvm")
    "PriceOracle"
    "new"
    Address("resource_tdx_e_1t49qww0cx6z3j60x9230ft744n3yn442v2fj05t8v9khvc3swkyklt")
    Decimal("17.85714285")
    Address("resource_tdx_e_1t58yqtudq84wffzrqxvfkhx0w6tgd3ufeymkjcckxx0jytqa5hnr8a")
    Decimal("17.85714285");

# interest_model

CALL_FUNCTION
    Address("package_tdx_e_1pkadflvjl4v6uc4lhk47ccdnps6wm6evyagmyugt66ktwyh96aelvm")
    "DefInterestModel"
    "new";
component_tdx_e_1cqwdpwyve7vdywh98nw2zjyknk3a2y4qf5h5r6w5jyxr7rn72yxnj2


# stable_interest_model
CALL_FUNCTION
    Address("package_tdx_e_1pkadflvjl4v6uc4lhk47ccdnps6wm6evyagmyugt66ktwyh96aelvm")
    "StableInterestModel"
    "new";
component_tdx_e_1czjzke2kz8msfza97tcf52nzt8tkufu5vrkdpax0al0ql2e538sc4l


## instantiate_lending_factory, 参数中是orace
CALL_FUNCTION
    Address("package_tdx_e_1pkadflvjl4v6uc4lhk47ccdnps6wm6evyagmyugt66ktwyh96aelvm")
    "LendingFactory"
    "instantiate_lending_factory"
    Address("component_tdx_e_1cz9gsuz9ru6082u6wxleqh6ueatcang0msm5m2qnp4tqm7msyphg3d");

CALL_METHOD
    Address("account_tdx_e_12y9gs6fmwnudjg9c3t5ggf7tva8j0plgjv8pxsdnw6a580s8ffxlze")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP");

component_tdx_e_1cz7cxuvpqdvy6c3v54cu8k5e0k868ncvr8nsth44n6heyqm0adu48c  #LendingFactory

resource_tdx_e_1t50v6qxmsmmkdj85c7w94xd3gyn337qlu7wezpwcqclhah7m8ful4t   # noname amdin

resource_tdx_e_1th9hjgt2jze0n986vpaq78d565d750lfgxfu2etchdc9q3tentm5vr   # noname minter

resource_tdx_e_1ngjen5lqkjqmtpuxwm3f884tx0hsnacdwadzlkjv39t8est2e7vyet   # cdp

## xrd pool, default_interest
## new_pool
CALL_METHOD
    Address("account_tdx_e_12y9gs6fmwnudjg9c3t5ggf7tva8j0plgjv8pxsdnw6a580s8ffxlze")
    "create_proof_of_amount"
    Address("resource_tdx_e_1t50v6qxmsmmkdj85c7w94xd3gyn337qlu7wezpwcqclhah7m8ful4t")
    Decimal("1")
;
CALL_METHOD
    Address("component_tdx_e_1cz7cxuvpqdvy6c3v54cu8k5e0k868ncvr8nsth44n6heyqm0adu48c")
    "new_pool"
    Address("resource_tdx_e_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxx8rpsmc")
    Decimal("0.6")
    Decimal("0.7")
    Decimal("0.07")
    Decimal("0.25")
    Address("component_tdx_e_1cqwdpwyve7vdywh98nw2zjyknk3a2y4qf5h5r6w5jyxr7rn72yxnj2")
;
resource_tdx_e_1t4h2h28pn2csww0gwlrpee46az073yt46v04ex3ycz02neyn86yrvf dx_token



## supply


# withdraw 10 XRD from account, which goes to the worktop
CALL_METHOD
  Address("account_tdx_e_12y9gs6fmwnudjg9c3t5ggf7tva8j0plgjv8pxsdnw6a580s8ffxlze")
  "withdraw"
  Address("resource_tdx_e_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxx8rpsmc")
  Decimal("2550");

TAKE_FROM_WORKTOP
  Address("resource_tdx_e_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxx8rpsmc")
  Decimal("2550")
  Bucket("xrd");

CALL_METHOD
    Address("component_tdx_e_1cz7cxuvpqdvy6c3v54cu8k5e0k868ncvr8nsth44n6heyqm0adu48c")
    "supply"
    Bucket("xrd");
CALL_METHOD
    Address("account_tdx_e_12y9gs6fmwnudjg9c3t5ggf7tva8j0plgjv8pxsdnw6a580s8ffxlze")
    "deposit_batch"
    Expression("ENTIRE_WORKTOP");
